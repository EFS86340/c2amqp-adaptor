c2amqp-adapter
---

The adapter that receives Ceph s3-compatible HTTP notifications and converts to
AMQP1.0.

Dependencies:

- Pistache, the http frontend
- Qpid-proton-cpp, the amqp1.0 library

Usage:
- install the pistache and qpid-proton library mannually
- clone this repo and use `git submodule update --init --recursive`
- `mkdir build && cd build && cmake .. && make`
- you can use run the `demo_run.sh` to quickly set up the demo, or
- `cd src`, run the broker, adapter, and simple_recv one by one, each
	should be run in individual terminal( this step can be replaced by the
	demo_run.sh )
- you can use ` curl -d '{"key1":"value1", "key2":"value2"}' -H "Content-Type:
	application/json" -X POST http://localhost:7074` to receive the Post-data in
	simple_recv

[Suggested method]:
Or you can set up this demo using the provided Dockerfile:
1. clone this repo
2. `git submodule update --init --recursive`
3. `docker build -t demo-adapter .`
4. docker run demo-adapter

Todo:
- Fix the cmake configuration to enable in-project compilation of pistache and
	proton library
- Error handling 
- Endpoint configuration for more alterable feature
